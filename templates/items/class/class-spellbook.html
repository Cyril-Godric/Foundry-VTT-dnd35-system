<div class="tab spellbook" data-group="primary" data-tab="spellbook">
    <div class="inventory-filters spellbook-filters">
        <div class="form-group spellcasting-ability">
            <label>{{localize "DND35E.SpellcastingAbility"}}</label>
            <select name="data.spellcasting.ability" data-type="String">
                {{#select data.spellcasting.ability}}
                <option value="">{{ localize "DND35E.None" }}</option>
                {{#each config.abilities as |abl a|}}
                <option value="{{a}}">{{ localize abl }}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
        {{#if isSpellcaster}}
        <div class="form-group">
            <label>{{localize "DND35E.SpellcastingType"}}</label>
            <select name="data.spellcasting.type" data-type="String">
                {{#select data.spellcasting.type}}
                <option value="">{{ localize "DND35E.None" }}</option>
                {{#each config.spellcastingTypes as |name type|}}
                <option value="{{type}}">{{ localize name }}</option>
                {{/each}}
                {{/select}}
            </select>
        </div>
        <ol class="inventory-list">
            {{#each config.spellLevels as |name short|}}
                <li class="item flexrow inventory-header spellbook-header">
                    {{#if @first}}
                    <div class="item-name flexrow">
                        <h4>{{localize ../data/spellcasting/cantripname}}</h4>
                    </div>
                    {{else}}
                    <label>{{localize name}}</label>
                    {{/if}}
                    <div class="item-controls">
                        <a class="item-control add-item" title="{{localize 'DND35E.SpellSelect' }}" data-spelllevel="{{short}}">
                            <i class="fas fa-plus"></i> {{localize "DND35E.Select"}}
                        </a>
                    </div>
                </li>
                <ol class="item-list">
                    {{#each (lookup ../data/spellcasting [short]) as |spell id| }}
                        {{#if spell}}
                            <li class="item flexrow view-item" data-item-id="{{id}}" draggable="true">
                                <div class="item-name flexrow rollable">
                                    <img class="item-image item-icon" src={{spell.img}}>
                                    <h4>{{spell.name}}</h4>
                                </div>
                                <div class="spell-components">
                                    <h4>TBA</h4>
                                </div>
                                <div class="spell-school">
                                    {{log ....}}
                                    <h4>{{spell/data/school}}</h4>
                                </div>
                                <div class="spell-range">
                                    <h4>{{spell/data/range/base}}+{{spell/data/range/bonus}}ft/CL</h4>
                                </div>
                            </li>
                        {{/if}}
                    {{/each}}
                </ol>
            {{/each}}
        </ol>
        {{/if}}
    </div>
</div>